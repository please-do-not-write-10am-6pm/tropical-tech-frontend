{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Snackbar } from 'react-native-paper';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport styles from \"./styles\";\nimport logo from \"../../assets/img/logo-login.png\";\nimport config from \"../../config/config\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar SignupComplete = function SignupComplete(props) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      userId = _useState2[0],\n      setUserId = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      code = _useState4[0],\n      setCode = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      visible = _useState6[0],\n      setVisible = _useState6[1];\n\n  var onToggleSnackBar = function onToggleSnackBar() {\n    return setVisible(!visible);\n  };\n\n  var onDismissSnackBar = function onDismissSnackBar() {\n    return setVisible(false);\n  };\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      errorMsg = _useState8[0],\n      setErrorMsg = _useState8[1];\n\n  useEffect(function () {\n    getUser();\n  }, []);\n\n  function getUser() {\n    var response, json;\n    return _regeneratorRuntime.async(function getUser$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('userData'));\n\n          case 2:\n            response = _context.sent;\n            json = JSON.parse(response);\n            setUserId(json.id);\n            generateCode(json.id);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function generateCode(id) {\n    var response;\n    return _regeneratorRuntime.async(function generateCode$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            console.log('ID 123 = ' + id);\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(fetch(config.urlRoot + \"signup/generateCode\", {\n              method: 'POST',\n              headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                id: id\n              })\n            }));\n\n          case 3:\n            response = _context2.sent;\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function verifyCode() {\n    var response, json;\n    return _regeneratorRuntime.async(function verifyCode$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(fetch(config.urlRoot + \"signup/verifyCode\", {\n              method: 'POST',\n              headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                id: userId,\n                code: code\n              })\n            }));\n\n          case 2:\n            response = _context3.sent;\n            _context3.next = 5;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 5:\n            json = _context3.sent;\n\n            if (json.success === true) {\n              console.log('OK - Success - ' + json);\n            } else {\n              setErrorMsg(json.message);\n              setVisible(true);\n            }\n\n          case 7:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Snackbar, {\n      visible: visible,\n      onDismiss: onDismissSnackBar,\n      action: {\n        label: 'X'\n      },\n      theme: {\n        colors: {\n          onSurface: 'rgba(211, 47, 47, 0.8)',\n          surface: '#fff'\n        },\n        textAlign: 'center'\n      },\n      children: errorMsg\n    }), _jsx(Text, {\n      style: styles.title,\n      children: \"Success!\"\n    }), _jsx(Image, {\n      style: styles.logo,\n      source: logo\n    }), _jsx(Text, {\n      style: styles.subtitle,\n      children: \"Activation is complete and your account has been created.\"\n    }), _jsx(Text, {\n      style: styles.description,\n      children: \"Find out more about how UHR app works by visiting our website www.uhrewards.com\"\n    }), _jsx(Text, {\n      style: styles.description2,\n      children: \"If you have any questions, suggestions or comments, please send us an email at support@uhrewards.com\"\n    }), _jsx(Text, {\n      style: styles.description,\n      children: \"Enjoy!\"\n    }), _jsx(View, {\n      style: styles.form,\n      children: _jsx(TouchableOpacity, {\n        style: styles.loginButton,\n        onPress: function onPress() {\n          return props.navigation.navigate('LoginPasscode');\n        },\n        children: _jsx(Text, {\n          style: styles.loginButtonText,\n          children: \"Log in\"\n        })\n      })\n    })]\n  });\n};\n\nexport default SignupComplete;","map":{"version":3,"names":["React","useState","useEffect","Snackbar","AsyncStorage","styles","logo","config","SignupComplete","props","userId","setUserId","code","setCode","visible","setVisible","onToggleSnackBar","onDismissSnackBar","errorMsg","setErrorMsg","getUser","getItem","response","json","JSON","parse","id","generateCode","console","log","fetch","urlRoot","method","headers","Accept","body","stringify","verifyCode","success","message","container","label","colors","onSurface","surface","textAlign","title","subtitle","description","description2","form","loginButton","navigation","navigate","loginButtonText"],"sources":["E:/git_repo/tropical-techcom/front-end/views/SignupComplete/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n\tView,\r\n\tTouchableOpacity,\r\n\tText,\r\n\tImage,\r\n} from 'react-native';\r\nimport { TextInput, Snackbar } from 'react-native-paper';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport styles from './styles';\r\nimport logo from '../../assets/img/logo-login.png';\r\nimport config from '../../config/config';\r\n\r\nconst SignupComplete = props => {\r\n\tconst [userId, setUserId] = useState(null);\r\n\tconst [code, setCode] = useState(null);\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst onToggleSnackBar = () => setVisible(!visible);\r\n\tconst onDismissSnackBar = () => setVisible(false);\r\n\tconst [errorMsg, setErrorMsg] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetUser();\r\n\t}, []);\r\n\r\n\t//Pegar o id do usuÃ¡rio\r\n\tasync function getUser() {\r\n\t\tlet response = await AsyncStorage.getItem(\r\n\t\t\t'userData'\r\n\t\t);\r\n\t\tlet json = JSON.parse(response);\r\n\t\tsetUserId(json.id);\r\n\t\tgenerateCode(json.id);\r\n\t}\r\n\r\n\t/* useEffect(()=>{\r\n    generateCode();\r\n  }, []);*/\r\n\r\n\tasync function generateCode(id) {\r\n\t\t//getUser();\r\n\t\tconsole.log('ID 123 = ' + id);\r\n\t\tlet response = await fetch(\r\n\t\t\t`${config.urlRoot}signup/generateCode`,\r\n\t\t\t{\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAccept: 'application/json',\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tid: id,\r\n\t\t\t\t}),\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tasync function verifyCode() {\r\n\t\t//console.log(code);\r\n\t\tlet response = await fetch(\r\n\t\t\t`${config.urlRoot}signup/verifyCode`,\r\n\t\t\t{\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAccept: 'application/json',\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tid: userId,\r\n\t\t\t\t\tcode: code,\r\n\t\t\t\t}),\r\n\t\t\t}\r\n\t\t);\r\n\t\tlet json = await response.json();\r\n\t\tif (json.success === true) {\r\n\t\t\tconsole.log('OK - Success - ' + json);\r\n\t\t\t// props.navigation.navigate('SignupStep2');\r\n\t\t} else {\r\n\t\t\tsetErrorMsg(json.message);\r\n\t\t\tsetVisible(true);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<Snackbar\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonDismiss={onDismissSnackBar}\r\n\t\t\t\taction={{\r\n\t\t\t\t\tlabel: 'X',\r\n\t\t\t\t}}\r\n\t\t\t\ttheme={{\r\n\t\t\t\t\tcolors: {\r\n\t\t\t\t\t\tonSurface:\r\n\t\t\t\t\t\t\t'rgba(211, 47, 47, 0.8)',\r\n\t\t\t\t\t\tsurface: '#fff',\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{errorMsg}\r\n\t\t\t</Snackbar>\r\n\t\t\t<Text style={styles.title}>Success!</Text>\r\n\t\t\t<Image style={styles.logo} source={logo} />\r\n\t\t\t<Text style={styles.subtitle}>\r\n\t\t\t\tActivation is complete and your account\r\n\t\t\t\thas been created.\r\n\t\t\t</Text>\r\n\t\t\t<Text style={styles.description}>\r\n\t\t\t\tFind out more about how UHR app works by\r\n\t\t\t\tvisiting our website www.uhrewards.com\r\n\t\t\t</Text>\r\n\t\t\t<Text style={styles.description2}>\r\n\t\t\t\tIf you have any questions, suggestions\r\n\t\t\t\tor comments, please send us an email at\r\n\t\t\t\tsupport@uhrewards.com\r\n\t\t\t</Text>\r\n\t\t\t<Text style={styles.description}>\r\n\t\t\t\tEnjoy!\r\n\t\t\t</Text>\r\n\r\n\t\t\t<View style={styles.form}>\r\n\t\t\t\t<TouchableOpacity\r\n\t\t\t\t\tstyle={styles.loginButton}\r\n\t\t\t\t\tonPress={() =>\r\n\t\t\t\t\t\tprops.navigation.navigate(\r\n\t\t\t\t\t\t\t'LoginPasscode'\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Text\r\n\t\t\t\t\t\tstyle={styles.loginButtonText}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tLog in\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t</TouchableOpacity>\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nexport default SignupComplete;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}